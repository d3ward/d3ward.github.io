const gs_icons = {
    "gs-icon":'<svg xmlns="http://www.w3.org/2000/svg" fill="var(--txt)" viewBox="0 0 24 24"><path d="M4.7 1.5c-.2 0-.3.1-.4.5-.2 1-.4 1.9-.1 2.7.2.3.2.4-.1.7A5.4 5.4 0 003 8v2a6 6 0 001.6 3.7c1 1 2.2 1.5 4 1.8.2 0 .6 0 .4.2l-.7 1.4c-.1.4 0 .4-.5.5-1.4.3-1.7.5-2.8-1-.6-.7-1-1.2-1.7-1.3-1.3-.2-2.8 0-1.1.4 1 .2 1.4 1 1.8 2 .8 1.5 1.5 2.3 3.6 1.9.3 0 .6-.3.6.1v1.9c0 .3 0 .4.4.5 1 .4 2.2.5 3.4.4l.1-.2a2.5 2.5 0 01-1.8-2.4v-7.5c0-1.4 1.1-2.5 2.5-2.5H20c.3 0 .4-.2.4-.4v-.6c0-1 0-1.2-.3-1.9-.2-.5-.5-1.2-.9-1.6-.2-.3-.2-.3-.1-.6.4-.9.3-1.9 0-2.9-.1-.1-.2-.4-.6-.4a6 6 0 00-2.9 1.1c-.4.3-.6.3-1 .2-2-.4-3.9-.3-6 0H8c-1-.6-2-1.2-3.3-1.3zm8.7 9a2.3 2.3 0 00-2.3 2.3v6.8a2.3 2.3 0 002.3 2.3h6.9a2.3 2.3 0 002.2-2.3v-6.8a2.3 2.3 0 00-2.2-2.3zm3 1.6h1a.7.7 0 01.6.7v6.8c0 .4-.3.7-.7.7h-1a.7.7 0 01-.6-.7v-6.8a.7.7 0 01.7-.7zm-3.5 2h1a.7.7 0 01.6.7v4.8c0 .4-.3.7-.7.7h-1a.7.7 0 01-.6-.7v-4.8c0-.4.3-.7.7-.7zm7 1.5h.9c.4 0 .7.3.7.6v3.4c0 .4-.3.7-.7.7h-1a.7.7 0 01-.7-.7v-3.4a.7.7 0 01.7-.6z" paint-order="stroke markers fill"/></svg>',
    "pulls_count": '<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svg-inline--fa fa-code-pull-request fa-w-16" data-icon="code-pull-request" data-prefix="far" viewBox="0 0 512 512"><path fill="currentColor" d="M160 95.1a80 80 0 00-160 0 79.7 79.7 0 0056 76v168a81.5 81.5 0 00-56 76 80 80 0 00160 0 79.7 79.7 0 00-56-76V172a79.9 79.9 0 0056-76.8zm-48 320a32 32 0 11-32-32c17.6 0 32 15.3 32 32zm-32-288a32 32 0 110-64 32 32 0 010 64zm376 213v-181a88 88 0 00-88-88h-16V16a16 16 0 00-26.2-12.3l-96 80c-3.7 3-5.8 7.5-5.8 11.4 0 4.8 2 9.3 5.8 12.3l96 80c2.9 3.3 6.5 3.7 10.2 3.7 2.3 0 4.6-.5 6.8-1.5 5.6-1.8 9.2-7.4 9.2-14.5v-56h16c22 0 40 18 40 40v180.1a81.3 81.3 0 00-56 75.9 80 80 0 00160 0 79.3 79.3 0 00-56-75zm-24 107a32 32 0 110-64 32 32 0 010 64z"/></svg>',
    "repos": '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M35.6 352.1C10 377.9-3 442.6 1.6 511.4c69 3.6 133.4-9.4 159.3-35.1 39.3-40.3 42-93.9 5.3-130.5-36.6-36.6-91.1-34-130.6 6.3zm81.8 84c-8.6 8.5-30.1 12.9-53.1 11.6-1.3-22.9 2-44.5 11.6-53 13.5-13.5 31.4-14.4 43.5-2.1 12.2 12.2 11.3 30-2 43.5zM505.1 19.2A16.6 16.6 0 00492.7 7C460.6 0 435.5 0 410.4 0 307.3 0 245.2 55.3 199.1 128H94.9A52.6 52.6 0 0052 154.5L2.6 253.2A29 29 0 00.1 264a24 24 0 0024 24h104c52 0 96 43 96 96v104c0 13.3 10.7 24 23 24 3.8-.1 7.4-1 10.8-2.5l98.7-49.4a53 53 0 0026.5-42.9V312.8c72.5-46.3 127-108.4 127-211 2-25.3 2-50.4-5-82.5zm-147 253.2c-25.4 16.1-7.5 6.8-99.2 52.1a149 149 0 00-71.5-71.4c45.3-91.6 35.8-73.7 52.2-99.3C286.6 79.6 337.7 48 410.4 48c17.8 0 33.6 0 51.4 2.3 2.3 18.2 2.2 34.5 2.2 51.5-.9 72.2-31.6 123.2-105.9 170.6zm9-168.4a40 40 0 001 80c21 0 39.9-17.9 39.9-40S390 104 367 104z"/></svg>',
    "followers": '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M319.9 320c57.4 0 103.1-46.6 103.1-104s-46.5-104-103.1-104a103.3 103.3 0 00-103.1 104c-.9 57.4 45.7 104 103.1 104zm0-160a56 56 0 11-.2 112 56 56 0 01.2-112zm192.1 0a80 80 0 100-160 80 80 0 000 160zM369.9 352h-99.8C191.6 352 128 411.7 128 485.3c0 14.8 12.7 26.7 28.4 26.7h327.2c15.7 0 28.4-11.9 28.4-26.7 0-73.6-63.6-133.3-142.1-133.3zM178.1 464c10.5-36.8 47.4-64 91.1-64H370c43.8 0 80.7 27.2 91.1 64H178.1zm373.8-272h-61.8c-12.8 0-25 3-35.9 8.2.6 5.3 1.6 10.4 1.6 15.8 0 33.7-12.8 64.2-33.2 88h199.7c9.8 0 17.7-8.4 17.7-18.7 0-51.5-39.4-93.3-88.1-93.3zm-368 24c0-5.4 1-10.6 1.6-16-10.9-5.9-22.9-8-35.6-8H88.1C39.4 192 0 233.8 0 285.3 0 295.6 7.9 304 17.6 304h199.5a134.7 134.7 0 01-33.2-88zM128 160a80 80 0 100-160 80 80 0 000 160z"/></svg>',
    "stars": '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M528.5 171.5l-146.4-21.3-65.4-132.4A32 32 0 00287 0c-10.5 0-22 5.9-27.8 17.8l-65.5 132.4-146.3 21.3a32 32 0 00-17.8 54.6l106 102.1-25.1 146.4a32 32 0 0046.5 33.6L288 439.6l130.9 68.7a32 32 0 0046.5-33.7l-25-145.5L546.1 227c19.1-19.4 8.6-51.7-17.7-55.5zM390.2 320.6l22.4 130.1-117.2-61.5a16 16 0 00-14.9 0l-117.1 61.5 22.4-130.1c.9-5.2-1.7-10.5-4.6-14.2l-94.7-92 130.9-19.1a16 16 0 0012-8.8L288 68l58.6 118.5a16 16 0 0012 8.7l131 19-94.8 92.2a16 16 0 00-4.6 14.2z"/></svg>',
    "commits": '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M616 232H477.6C465.9 155.1 400.1 96 320 96s-145.9 59.1-157.6 136H24a24 24 0 000 48h138.4c11.7 76.9 77.5 136 157.6 136s145.9-59.1 157.6-136H616a24 24 0 100-48zM320 368a112.1 112.1 0 010-224 112.1 112.1 0 010 224z"/></svg>',
    "issues_count": '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0a256 256 0 100 512 256 256 0 000-512zm0 464c-114.7 0-208-93.3-208-208S141.3 48 256 48s208 93.3 208 208-93.3 208-208 208zm0-160a24 24 0 0024-24V152a24 24 0 00-48 0v128a24 24 0 0024 24zm0 33.1a31.4 31.4 0 100 62.9 31.4 31.4 0 000-62.9z"/></svg>',
    "contributions": '<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="display-code" class="svg-inline--fa fa-display-code fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M512 0H64C28.65 0 0 28.65 0 64v288c0 35.35 28.65 64 64 64h148.3l-9.6 48H152C138.8 464 128 474.8 128 488S138.8 512 152 512h272c13.25 0 24-10.75 24-24s-10.75-24-24-24h-50.73L363.7 416H512c35.35 0 64-28.65 64-64V64C576 28.65 547.3 0 512 0zM251.7 464L261.3 416h53.46l9.6 48H251.7zM528 352c0 8.822-7.178 16-16 16H64c-8.822 0-16-7.178-16-16V64c0-8.822 7.178-16 16-16h448c8.822 0 16 7.178 16 16V352zM362.1 137.9c-7.812-7.812-20.47-7.812-28.28 0s-7.812 20.5 0 28.31l33.86 33.84l-33.86 33.84c-7.812 7.812-7.812 20.5 0 28.31C337.8 266.1 342.9 268 348 268s10.23-1.938 14.14-5.844l48-48c7.812-7.812 7.812-20.5 0-28.31L362.1 137.9zM242.1 137.9c-7.812-7.812-20.47-7.812-28.28 0l-48 48c-7.812 7.812-7.812 20.5 0 28.31l48 48C217.8 266.1 222.9 268 228 268S238.2 266.1 242.1 262.2c7.812-7.812 7.812-20.5 0-28.31L208.3 200L242.1 166.2C249.1 158.4 249.1 145.7 242.1 137.9z"></path></svg>',
    "following": '<svg aria-hidden="true" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M320 256c70.692 0 128-57.308 128-128C448 57.308 390.692 0 320 0c-70.693 0-128 57.308-128 128 0 70.692 57.307 128 128 128zm0-208c44.183 0 80 35.817 80 80s-35.817 80-80 80c-42.63-2.132-76.099-37.317-76.099-80S277.371 50.132 320 48zm50.7 256H269.3C173.589 304 96 381.589 96 477.3c0 19.164 15.536 34.7 34.7 34.7h378.7c19.148 0 34.655-15.552 34.6-34.7 0-95.7-77.6-173.3-173.3-173.3zm-226 160c6.7-62.9 60-112 124.6-112h101.4c63.933.315 117.497 48.462 124.6 112zM595.285 196.47h-48v-48c0-13.255-10.746-24-24-24-13.255 0-24 10.745-24 24v48h-48c-13.255 0-24 10.745-24 24s10.745 24 24 24h48v48c0 13.255 10.745 24 24 24 13.254 0 23.968-13.954 24-24v-48h48c13.254 0 24-10.745 24-24s-10.746-24-24-24z"/></svg>',
    "forks":'<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svg-inline--fa fa-code-fork fa-w-14" data-icon="code-fork" data-prefix="far" viewBox="0 0 448 512"><path fill="currentColor" d="M448 80a80 80 0 10-160 0 79.7 79.7 0 0056 76v36c0 22-18 40-40 40H144a40 40 0 01-40-40v-36.1A79.6 79.6 0 00160 80 80 80 0 100 80a79.7 79.7 0 0056 76v36a88 88 0 0088 88h56v76a79.7 79.7 0 0024 156 79.7 79.7 0 0024-156v-76h56a88 88 0 0088-88v-36.1A79.6 79.6 0 00448 80zM80 48a32 32 0 110 64 32 32 0 010-64zm144 416a32 32 0 110-64 32 32 0 010 64zm144-352a32 32 0 110-64 32 32 0 010 64z"/></svg>',
    "watchers":'<svg aria-hidden="true" viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M288 32C165.1 32 57.7 115.6 3.5 238.1 1.5 243.4 0 251 0 256c0 5 1.6 12.6 3.5 17C57.7 396.5 165 480 288 480s230.3-83.6 284.5-206.1A67.9 67.9 0 00576 256c0-5-1.6-12.6-3.5-17.9C518.3 115.5 410.9 32 288 32zm0 48c99.5 0 191.2 67.5 239.6 175.1C478.1 364.6 387.4 432 288 432c-99.5 0-191.2-67.5-239.6-175.1C97 147.4 188.6 80 288 80zm0 48c-70.692 0-128 57.308-128 128 0 70.692 57.308 128 128 128 70.692 0 128-57.308 128-128 0-70.692-57.308-128-128-128zm4.176 48.746c42.15 2.221 75.19 37.045 75.193 79.254-.105 41.472-32.121 76.527-73.478 79.605-12.638 1.137-27.807-2.49-38.754-7.369l-.14-.056a80 80 0 01-39.177-39.176l-.056-.14C211.32 277.598 208.772 267.421 208 256c.707-47.445 40.316-78.801 77.9-79.219 2.796-.188 4.164-.14 6.276-.035z"/></svg>'
}

//Get elapsed minutes to date 
function diff_hours(dt) {
    var now = new Date();
    var diff = (new Date(dt) - now.getTime()) / 1000;
    diff /= 60;
    return Math.abs(Math.round(diff));
  }
class gitStats {
    constructor(options) {
        //Fill icons
        var gs_i = document.querySelectorAll('[gs-icon]');
        gs_i.forEach((el) => {
            var n = el.getAttribute("gs-icon");
            el.innerHTML = gs_icons[n];
        });
        this.initialize(options);
    }
    initialize(options){
        this.fetchRateLimit();
        let u=options.username;
        let r=options.repo;
        this.currDate = new Date();
        var timeDiff;
        if (r!=null) {
            this.selector = "[gs-user='" + u + "'][gs-repo='" + r + "']";
            this.storageKey="gs_" + u + "_" + r;
            this.stats = JSON.parse(window.localStorage.getItem("gs_" + u + "_" + r));
            
            
            if(options.selector){
                this.selector=options.selector;
            }
            if(this.stats == undefined ){
                this.fetchStats(u,r);
            }else{
                if(this.stats["timeElapsed"] == undefined)
                    timeDiff=61;
                else
                    timeDiff = diff_hours(this.stats["timeElapsed"]);
                    console.log("Time Diff:" + timeDiff);
                if (timeDiff > 60 || this.stats["timeElapsed"] == undefined)
                    this.fetchStats(u,r);
                else
                    this.renderStats(true);
            } 
        } else {
            this.selector = "[gs-user='" + u+ "']";
            this.storageKey="gs_" + u ;
            this.stats = JSON.parse(window.localStorage.getItem("gs_" + u));
            if(this.stats == undefined ){
                this.fetchStats(u);
            }else{
                if(this.stats["timeElapsed"] == undefined)
                    timeDiff=61;
                else
                    timeDiff = diff_hours(this.stats["timeElapsed"]);
                    console.log("Time Diff:" + timeDiff);
                if (timeDiff > 60 || this.stats["timeElapsed"] == undefined)
                    this.fetchStats(u);
                else
                    this.renderStats(true);
            } 
        }
        
    }
    clear(){
        localStorage.removeItem(this.storageKey);
    }
    async fetchRateLimit(){
        await fetch('https://api.github.com/rate_limit').then(res=>res.json()).then((data)=>{
            var d = new Date(data.rate["reset"]).getTime() ;
            console.log("API Rate Limit : "+ data.rate["remaining"]+"/"+data.rate["limit"]);
        }).catch(err => console.log('Fetch Rate Limit : ' + err));
    }
    async fetchAPI(username, repo) {
        console.log("Fetch API - "+username+"/"+repo);
        if (repo) {
            
            //Basic stats https://api.github.com/users/d3ward/repos/src.next
            await fetch(`https://api.github.com/repos/${username}/${repo}`).then(res => res.json()).then((data) => {
                console.log
                this.stats = {
                    username: username,
                    name: data.name,
                    full_name: data.full_name,
                    description: data.description,
                    is_fork:data.fork,
                    stars:data.stargazers_count,
                    forks:data.forks_count,
                    watchers: data.subscribers_count,
                    issues: data.open_issues,
                    url: data.html_url,
                    notFound: data.message
                };
            }).catch(err => console.log('Basic Stats Error: ' + err));
            //Commits 
            /*
            await fetch(`https://api.github.com/repos/${username}/${repo}/commits`, {
                headers: {
                    "Content-Type": "application/json",
                    Accept: "application/vnd.github.cloak-preview"
                }
            }).then(res => res.json()).then((data) => {
                this.stats["commits"] = data.length;
            }).catch(err => console.log('Fetching Commits Error : ' + err));*/
        } else {

            //Basic stats
            await fetch(`https://api.github.com/users/${username}`).then(res => res.json()).then((data) => {
                this.stats = {
                    username: data.login,
                    realName: data.name,
                    bio: data.bio,
                    avatar: data.avatar_url,
                    location: data.location,
                    repos: data.public_repos,
                    repos_url: data.repos_url,
                    followers: data.followers,
                    following: data.following,
                    url: data.html_url,
                    notFound: data.message,
                    public_gists: data.public_gists,
                    blog: data.blog,
                    company: data.company
                };
            }).catch(err => console.log('Basic Stats Error: ' + err));
            //Stars
            await fetch(`https://api.github.com/users/${username}/repos`).then(res => res.json()).then((data) => {
                var stars = 0;
                for (let d in data)
                    stars += data[d].stargazers_count;
                this.stats["stars"] = stars;
            }).catch(err => console.log('Fetching Stars Error: ' + err));
            //Commits 
            await fetch(`https://api.github.com/search/commits?q=author:${username}`, {
                headers: {
                    "Content-Type": "application/json",
                    Accept: "application/vnd.github.cloak-preview"
                }
            }).then(res => res.json()).then((data) => {

                this.stats["commits"] = data.total_count;
            }).catch(err => console.log('Fetching Commits Error : ' + err));
            //Pulls
            await fetch(`https://api.github.com/search/issues?q=author:${username}+is:pr`, {
                headers: {
                    "Content-Type": "application/json",
                    Accept: "application/vnd.github.cloak-preview"
                }
            }).then(res => res.json()).then((data) => {
                this.stats["pulls"] = data;
                this.stats["pulls_count"] = data.total_count;
            }).catch(err => console.log('Fetching Pulls Error : ' + err));
            //Issues
            await fetch(`https://api.github.com/search/issues?q=author:${username}+is:issue`, {
                    headers: {
                        "Content-Type": "application/json",
                        Accept: "application/vnd.github.cloak-preview"
                    }
                }).then(res => res.json()).then((data) => {
                    this.stats["issues"] = data;
                    this.stats["issues_count"] = data.total_count;
                }).then(() => {
                    var mixPullsIssues = new Map();
                    for (let i in this.stats["pulls"].items)
                        mixPullsIssues.set(this.stats["pulls"].items[i].repository_url, i);
                    for (let i in this.stats["issues"].items)
                        mixPullsIssues.set(this.stats["issues"].items[i].repository_url, i);
                    this.stats["contributions"] = mixPullsIssues.size;
                })
                .catch(err => console.log('Fetching Issues Error : ' + err));
        }
    }
    fetchStats(username, repo) {
        if (repo!=null) {
            this.fetchAPI(username,repo).then(() => {
                this.stats["timeElapsed"]=new Date();
                window.localStorage.setItem("gs_" + username + "_" + repo, JSON.stringify(this.stats));
                this.renderStats(true);
            });
        } else {
            this.fetchAPI(username).then(() => {
                this.stats["timeElapsed"]=new Date();
                window.localStorage.setItem("gs_" + username, JSON.stringify(this.stats));
                this.renderStats();
            });
        }
    }
    renderStats(t) {
        const a= this.selector;
        if(this.stats["url"]!=undefined){
        //For each field check if attribute exist
       var gs_elements 
       if(t){
        gs_elements= {
            username: document.querySelectorAll(a + ' [gs-data="username"]'),
            name: document.querySelectorAll(a + ' [gs-data="name"]'),
            full_name: document.querySelectorAll(a + ' [gs-data="full_name"]'),
            description: document.querySelectorAll(a + ' [gs-data="description"]'),
            is_fork: document.querySelectorAll(a + ' [gs-data="is_fork"]'),
            stars: document.querySelectorAll(a + ' [gs-data="stars"]'),
            forks: document.querySelectorAll(a + ' [gs-data="forks"]'),
            commits: document.querySelectorAll(a + ' [gs-data="commits"]'),
            watchers: document.querySelectorAll(a + ' [gs-data="watchers"]'),
            issues: document.querySelectorAll(a + ' [gs-data="issues"]'),
            url: document.querySelectorAll(a + ' [gs-data="url"]')
        }
       }else{
           gs_elements= {
            username: document.querySelectorAll(a + ' [gs-data="username"]'),
            realName: document.querySelectorAll(a + ' [gs-data="realname"]'),
            bio: document.querySelectorAll(a + ' [gs-data="bio"]'),
            avatar: document.querySelectorAll(a + ' [gs-data="avatar"]'),
            location: document.querySelectorAll(a + ' [gs-data="location"]'),
            stars: document.querySelectorAll(a + ' [gs-data="stars"]'),
            repos: document.querySelectorAll(a + ' [gs-data="repos"]'),
            commits: document.querySelectorAll(a + ' [gs-data="commits"]'),
            pulls_count: document.querySelectorAll(a + ' [gs-data="pulls_count"]'),
            issues_count: document.querySelectorAll(a + ' [gs-data="issues_count"]'),
            contributions: document.querySelectorAll(a + ' [gs-data="contributions"]'),
            followers: document.querySelectorAll(a + ' [gs-data="followers"]'),
            following: document.querySelectorAll(a + ' [gs-data="following"]'),
            url: document.querySelectorAll(a + ' [gs-data="url"]'),
            notFound: document.querySelectorAll(a + ' [gs-data="notfound"]'),
            public_gists: document.querySelectorAll(a + ' [gs-data="gists"]'),
            blog: document.querySelectorAll(a + ' [gs-data="blog"]'),
            company: document.querySelectorAll(a + ' [gs-data="company"]')
        }
       }
       
        for (let key in gs_elements) {
            var r = gs_elements[key];
            if (r) {
                r.forEach(element => {
                    if (key == "url")
                        element.href = this.stats[key];
                    else if (key == "avatar")
                        element.src = this.stats[key];
                    else
                        element.innerHTML = this.stats[key];
                });
            }
        }

        var gs = document.querySelectorAll(a);
        gs.forEach(el=>{
            el.classList.add("gs-loaded");
        })
        }else{
            var gs = document.querySelectorAll(a);
            gs.forEach(el=>{
                el.classList.add("gs-not-found");
            })
        }
        
    }
}
function gs_aos() {
    const t = this;
    t.items = document.querySelectorAll("[gs-aos-items]>*,[gs-aos]");
  
    if (IntersectionObserver && t.items) {
        let callback = function (entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('gs-aos-done')) {
                    entry.target.classList.add('gs-aos-done');
                } else {
                    entry.target.classList.remove('gs-aos-done');
                }
            });
        }
        let observer = new IntersectionObserver(callback, {
            root: null,
            threshold: 0
        });
        t.items.forEach((item) => {
            observer.observe(item);
        });
    }
}
const gs_css = '[gs-user],.gs-user{position:relative;display:flex;flex-direction:column;transition: all 0.25s ease-in-out;padding:1.5rem;gap:1rem;border-radius:.5rem;width:100%;max-width:300px;background-color:var(--bg)}[gs-user]::after,.gs-user::after{content:"";position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-radius:.5rem;background-color:var(--bg);visibility:visible;opacity:1;transition:all 1s linear}[gs-user].gs-loaded::after,.gs-user.gs-loaded::after{visibility:hidden;opacity:0}[gs-user].gs-not-found::after,.gs-user.gs-not-found::after{content:"Not Found"}[gs-user]>*,.gs-user>*{margin:0}[gs-user] span,.gs-user span{font-size:1.5rem;text-align:center}[gs-user] svg,.gs-user svg{height:24px;fill:currentColor}[gs-user] label,.gs-user label{display:flex;align-items:center}[gs-user] label [gs-data]{flex-grow:1;text-align:end}.gs-fgrow{flex-grow:1}[gs-user] i,.gs-user i{width:30px;display:flex;align-items:center;justify-content:center}[gs-data="avatar"]{padding:1rem;box-shadow:0 8px 20px -4px #95abbb;max-width:100px;border-radius:50%;margin:15px auto 15px;width:100px;height:100px}.gs-badge{position:absolute;display:flex;top:.3rem;right:.3rem;justify-content:flex-end;font-size:14px}.gs-badge svg{height:20px}.full-width{max-width:unset}.gs-column{display:flex;flex-direction:column;gap:1rem}.gs-compact{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap;gap:1rem}[gs-aos-items]>*,[gs-aos]{opacity:0;transition:opacity 1s,transform 1.3s}[gs-aos-items="zoom"]>*,[gs-aos="zoom"]{transform:scale(.4)}[gs-aos-items="left"]>*,[gs-aos="left"]{transform:translate3d(-100px,0,0)}[gs-aos-items="right"]>*,[gs-aos="right"]{transform:translate3d(100px,0,0)}[gs-aos-items="top"]>*,[gs-aos="top"]{transform:translate3d(0,-100px,0)}[gs-aos-items="bottom"]>*,[gs-aos="bottom"]{transform:translate3d(0,100px,0)}.gs-aos-done{opacity:1;transform:translateZ(0) scale(1)}';
const gs_style= document.createElement("style");
gs_style.innerText=gs_css;
document.head.appendChild(gs_style);

// Call the function when the DOM is loaded
document.addEventListener("DOMContentLoaded", () => {
    //Get all cards
    const cards = document.querySelectorAll(".stats_w");
    var gs_widgets = document.querySelectorAll('[gs-user]');
    var gs_list = [];
    gs_widgets.forEach((el) => {

        var gs_u= el.getAttribute("gs-user");
        var gs_r=el.getAttribute("gs-repo")
        if( ! gs_list.includes(gs_u+"/"+gs_r)){
            gs_list.push(gs_u+"/"+gs_r);
            new gitStats({
                username: gs_u,
                repo: gs_r,
                timeFetch: 0
            });
        }
    })
    gs_aos();
});