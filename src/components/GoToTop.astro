---
import Button from "./common/Button.astro";
// Go to top button component
---

<Button
  id="go-to-top"
  circle={true}
  icon="arrow-up"
  iconOnly={true}
  class="fixed right-8 bottom-8 z-40 opacity-0 shadow-lg transition-opacity duration-300"
  aria-label="Go to top"
/>

<script>
  const goToTopBtn = document.getElementById("go-to-top");

  if (goToTopBtn) {
    // Show/hide button based on scroll position
    window.addEventListener("scroll", () => {
      if (window.scrollY > 300) {
        goToTopBtn.style.opacity = "1";
        goToTopBtn.style.pointerEvents = "auto";
      } else {
        goToTopBtn.style.opacity = "0";
        goToTopBtn.style.pointerEvents = "none";
      }
    });

    // Scroll to top on click
    goToTopBtn.addEventListener("click", () => {
      window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    });
  }
</script>
